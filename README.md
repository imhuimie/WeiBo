# 微博超话批量签到脚本

自动化微博超话签到工具，支持多账户批量操作。

## 功能特性

- ✅ 自动获取所有关注的超话列表
- ✅ 批量签到所有超话
- ✅ 支持多账户配置
- ✅ 智能防重复签到
- ✅ 详细的签到统计报告

## 环境要求

- Python 3.6+
- requests 库

## 安装依赖

```bash
pip install requests
```

## 配置说明

### 获取 Cookie

1. 登录微博网页版 (weibo.com)
2. 按 F12 打开开发者工具
3. 切换到 Network 标签
4. 刷新页面，找到任意请求
5. 复制 Request Headers 中的 Cookie 值

### 环境变量配置

**单账户：**
```bash
export WEIBO_COOKIE="你的cookie内容"
```

**多账户（支持三种分割方式）：**
```bash
# 方式1：使用 @ 分割
export WEIBO_COOKIES="cookie1@cookie2@cookie3"

# 方式2：使用换行分割
export WEIBO_COOKIES="cookie1
cookie2
cookie3"

# 方式3：使用 ---- 分割（兼容旧版本）
export WEIBO_COOKIES="cookie1----cookie2----cookie3"
```

## 使用方法

### 直接运行

```bash
python wb.py
```

### 青龙面板配置

1. 添加脚本到青龙面板
2. 配置环境变量 `WEIBO_COOKIE` 或 `WEIBO_COOKIES`
3. 设置定时任务：`0 8 * * *` (每天早上8点执行)

## 输出示例

```
============================================================
🌟 微博超话批量签到脚本 v1.2
👨‍💻 作者: emper0r
📅 支持多账户批量签到
============================================================
🔍 检测到多账户配置，共 2 个账户
🎯 开始执行批量签到任务，共 2 个账户
============================================================
[08:00:01] ℹ️ [账户1] 🚀 开始执行签到任务 (用户12345678...)
[08:00:02] ℹ️ [账户1] 📋 正在获取超话列表...
[08:00:03] ℹ️ [账户1] 📊 成功获取到 15 个超话
[08:00:04] ✅ [账户1] [超话名称] 签到成功
...
[08:00:30] ✅ [账户1] 📈 签到统计结果:
[08:00:30] ✅ [账户1] ✅ 签到成功: 12 个
[08:00:30] ✅ [账户1] ⚠️  已签过: 3 个
[08:00:30] ✅ [账户1] ❌ 签到失败: 0 个
============================================================
🏆 全部账户签到完成！
============================================================
📊 总体统计结果:
✅ 账户1: 成功12 | 已签3 | 失败0 | 总计15
✅ 账户2: 成功10 | 已签5 | 失败0 | 总计15
------------------------------------------------------------
🎯 成功执行账户: 2/2
✅ 总签到成功: 22 个超话
⚠️  总已签过: 8 个超话
❌ 总签到失败: 0 个超话
📊 总处理超话: 30 个超话
🎉 批量签到任务执行完成！
🌟 本次新增签到 22 个超话
============================================================
⏱️  总耗时: 45 秒
```

## 注意事项

- Cookie 有效期当前约为7天，失效后需重新获取
- 建议在青龙面板中运行，支持定时任务
- 多账户签到时会自动添加延迟，避免请求过快
- 签到间隔：1.5秒/超话，账户间隔：10秒

## 常见问题

**Q: Cookie 失效怎么办？**  
A: 重新登录微博网页版，按照上述步骤获取新的 Cookie

**Q: 支持几个账户？**  
A: 理论上无限制，但建议不超过10个账户

**Q: 签到失败怎么办？**  
A: 检查 Cookie 是否有效，网络连接是否正常

## 许可证

[MIT License](LICENSE)

## 作者

emper0r

## 版本

v1.2
